<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>

        <script>
            // ignore this first line (its fidle mock) and it will return what ever you pass as json:... parameter... consider to change it to your ajax call
            $.ajax({
                url: 'AjaxServlet',
                type: "post",
                dataType: "json",
                data: {
                    json: JSON.stringify([
                        {
                            id: 1,
                            firstName: "Peter",
                            lastName: "Jhons"},
                        {
                            id: 2,
                            firstName: "David",
                            lastName: "Bowaaaa"}
                    ]),
                    delay: 3
                },
                success: function (data, textStatus, jqXHR) {
                    // since we are using jQuery, you don't need to parse response
                    drawTable(data);
                }
            });

            function drawTable(data) {
                for (var i = 0; i < data.length; i++) {
                    drawRow(data[i]);
                }
            }

            function drawRow(rowData) {
                var row = $("<tr />")
                $("#personDataTable").append(row); //this will append tr element to table... keep its reference for a while since we will add cels into it
                row.append($("<td>" + rowData.id + "</td>"));
                row.append($("<td>" + rowData.firstName + "</td>"));
                row.append($("<td>" + rowData.lastName + "</td>"));
            }



        </script>
        
        <table id="personDataTable">
    <tr>
        <th>Id</th>
        <th>First Name</th>
        <th>Last Name</th>
    </tr>
    
</table>
    </body>
</html>
